template: 'nodejs'

github: [
    CredentialsId: 'GitHub-Credentials-Jlccx'
]

stages: [
    init: [
        tasks: [
            Init : [skip: false, retry: 3, stash: '*.pdf', nodeType: 'docker', nodeLabel: 'nodejs:latest']
        ]
    ]
    test: [
        tasks: [
            BlackDuck : [skip: false, retry: 3, stash: '', nodeType: 'slave', nodeLabel: 'BlackDuck']
            Fail :      [skip: false, retry: 3, stash: '', nodeType: '', nodeLabel: '']
            Fortify :   [skip: false, retry: 3, stash: '', nodeType: 'slave', nodeLabel: 'Fortify']
            Lint :      [skip: false, retry: 3, stash: '', nodeType: '', nodeLabel: '']
            UnitTest :  [skip: false, retry: 3, stash: '', nodeType: '', nodeLabel: '']
            Veracode :  [skip: false, retry: 3, stash: '', nodeType: 'slave', nodeLabel: 'Veracode']
        ]
    ]
    package: [
        tasks: [
            Package : [skip: false, retry: 3, stash: '*.pdf', nodeType: 'docker', nodeLabel: 'nodejs:latest']
        ]
    ]
    deploy: [
        type: 'docker',
        gateType: 'simple', gatePasswordId: '',

    ]
    integrationtests: [
        tasks: [
            Integrationtests : [skip: false, retry: 3, stash: '*.pdf', nodeType: 'docker', nodeLabel: 'nodejs:latest']
        ]
    ]
]

options: [clean: true]

notifications: [
    hipchat:[disabled: false, default: '3897024', production: '', staging: '', dev: '', test: ''],
    email: [disabled: false, default: 'rolando.valdivia@niceincontact.com']
]